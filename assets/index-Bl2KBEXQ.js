(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const l of n)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&a(u)}).observe(document,{childList:!0,subtree:!0});function o(n){const l={};return n.integrity&&(l.integrity=n.integrity),n.referrerPolicy&&(l.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?l.credentials="include":n.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(n){if(n.ep)return;n.ep=!0;const l=o(n);fetch(n.href,l)}})();const B="/assets/bear2026-C1DJF8v9.jpg",E="/assets/cat1-oCLfYr8-.jpg",L="/assets/cat_2-DmJ0-9Hq.jpg",C="/assets/cat_okak-CNrNNcE5.jpg",w="/assets/fish-goR4r7cj.jpg",M="/assets/werewolf-BkwcJsMD.jpg",P="/assets/child-KshIBJwq.jpg",S="/assets/malevich-Av6G4YDy.png",x="/assets/hariton-BzJbJK3g.png",k="/assets/monke-DqvFJVig.jpg",R="/assets/nerd-B1gPxLMb.png",D="/assets/kat-BPGZPRFb.png",i=[B,E,L,C,w,M],f=[P,S,x,k,R,D];let e={mode:null,difficulty:"easy",firstCard:null,secondCard:null,canFlip:!0,matches:0,moves:0,seconds:0,timeRunning:!1,timerInterval:null,currentPlayer:1,playerScores:[0,0],totalMatches:0},c=i.length+f.length;document.addEventListener("DOMContentLoaded",function(){document.getElementById("settingBtn").addEventListener("click",T),document.getElementById("closeSettingsBtn").addEventListener("click",b),document.getElementById("resetBtn").addEventListener("click",A),document.getElementById("changeModeBtn").addEventListener("click",p),document.getElementById("singlePlayerBtn").addEventListener("click",()=>v("single")),document.getElementById("twoPlayersBtn").addEventListener("click",()=>v("two")),document.getElementById("changeDifficultyBtn").addEventListener("click",N),document.getElementById("easyDiffBtn").addEventListener("click",()=>h("easy")),document.getElementById("hardDiffBtn").addEventListener("click",()=>h("hard")),document.getElementById("resetGame").addEventListener("click",G),p()});function T(){document.getElementById("game").classList.add("hide"),document.getElementById("settings").classList.add("show"),e.timeRunning&&e.mode==="single"&&(clearInterval(e.timerInterval),e.timeRunning=!1)}function b(){document.getElementById("settings").classList.remove("show"),document.getElementById("game").classList.remove("hide"),e.mode==="single"&&!e.timeRunning&&e.matches<c&&(e.timeRunning=!0,e.timerInterval=setInterval(()=>{e.seconds++,d()},1e3))}function v(t){e.mode=t,document.getElementById("modeModal").classList.remove("show"),t==="single"?(document.getElementById("singlePlayerStats").style.display="flex",document.getElementById("twoPlayersStats").style.display="none"):(document.getElementById("singlePlayerStats").style.display="none",document.getElementById("twoPlayersStats").style.display="flex",r()),m()}function p(){document.getElementById("game").classList.add("hide"),document.getElementById("settings").classList.remove("show"),document.getElementById("modeModal").classList.add("show"),clearInterval(e.timerInterval)}function h(t){e.difficulty=t,document.getElementById("difficultyModal").classList.remove("show"),m()}function N(){document.getElementById("game").classList.add("hide"),document.getElementById("settings").classList.remove("show"),document.getElementById("difficultyModal").classList.add("show"),clearInterval(e.timerInterval)}function m(){e.firstCard=null,e.secondCard=null,e.canFlip=!0,e.matches=0,e.moves=0,e.seconds=0,e.timeRunning=!1,e.currentPlayer=1,e.playerScores=[0,0],e.totalMatches=0,clearInterval(e.timerInterval);let t=[];e.difficulty==="easy"?t=[...i,...i]:t=[...i,...f,...i,...f],t.sort(()=>Math.random()-.5);const s=document.getElementById("game");s.innerHTML="",s.style.maxWidth>768&&(e.difficulty==="easy"?s.style.gridTemplateColumns="repeat(4, 1fr)":s.style.gridTemplateColumns="repeat(6, 1fr)");for(let o=0;o<t.length;o++){const a=document.createElement("div");a.className="card",a.innerHTML=`
            <div class="card-front">âœ¶</div>
            <div class="card-back"><img src="${t[o]}" alt="card image"></div>
        `,a.onclick=()=>j(a),a.dataset.image=t[o],s.appendChild(a)}O(),d(),r(),document.getElementById("game").classList.remove("hide")}function j(t){e.canFlip&&(t.classList.contains("flipped")||t.classList.contains("matched")||(e.mode==="single"&&!e.timeRunning&&J(),t.classList.add("flipped"),e.firstCard===null?e.firstCard=t:(e.secondCard=t,e.canFlip=!1,e.moves++,e.mode==="two"&&e.totalMatches++,d(),F())))}function F(){e.firstCard.dataset.image===e.secondCard.dataset.image?setTimeout(()=>{if(e.firstCard.classList.add("matched"),e.secondCard.classList.add("matched"),e.mode==="single")e.matches++,d(),e.matches===c&&I();else if(e.playerScores[e.currentPlayer-1]++,r(),document.querySelectorAll(".card.matched").length===c*2)I();else{y();return}y()},500):setTimeout(()=>{e.firstCard.classList.remove("flipped"),e.secondCard.classList.remove("flipped"),e.mode==="two"&&(e.currentPlayer=e.currentPlayer===1?2:1,r()),y()},750)}function y(){e.firstCard=null,e.secondCard=null,e.canFlip=!0}function J(){e.timeRunning=!0,e.timerInterval=setInterval(()=>{e.seconds++,d()},1e3)}function O(){e.difficulty==="easy"?c=6:c=12}function d(){if(e.mode==="single"){document.getElementById("moves").textContent=e.moves,document.getElementById("matches").textContent=e.matches+" / "+c;let t=Math.floor(e.seconds/60),s=e.seconds%60;s<10&&(s="0"+s),document.getElementById("time").textContent=t+":"+s}else document.getElementById("totalMovesTwo").textContent=e.totalMatches}let g=1;function r(){document.getElementById("player1Score").textContent=e.playerScores[0],document.getElementById("player2Score").textContent=e.playerScores[1];const t=document.getElementById("player1Indicator"),s=document.getElementById("player2Indicator");if(e.totalMatches===0){t.classList.add("active"),s.classList.remove("active"),t.classList.remove("move-to-player2","move-to-player1"),s.classList.remove("move-to-player2","move-to-player1"),g=1;return}g!==e.currentPlayer?(e.currentPlayer===1?(s.classList.add("active","move-to-player1"),t.classList.remove("active","move-to-player2"),setTimeout(()=>{s.classList.remove("active","move-to-player1"),t.classList.add("active")},200)):(t.classList.add("active","move-to-player2"),s.classList.remove("active","move-to-player1"),setTimeout(()=>{t.classList.remove("active","move-to-player2"),s.classList.add("active")},200)),g=e.currentPlayer):(t.classList.toggle("active",e.currentPlayer===1),s.classList.toggle("active",e.currentPlayer===2),t.classList.remove("move-to-player2","move-to-player1"),s.classList.remove("move-to-player2","move-to-player1"))}function I(){if(clearInterval(e.timerInterval),e.mode==="single")document.getElementById("singlePlayerResults").style.display="block",document.getElementById("twoPlayersResults").style.display="none",document.getElementById("totalMoves").textContent=e.moves,document.getElementById("totalTime").textContent=document.getElementById("time").textContent;else{document.getElementById("singlePlayerResults").style.display="none",document.getElementById("twoPlayersResults").style.display="block";const t=e.playerScores[0],s=e.playerScores[1];document.getElementById("finalScore1").textContent=t,document.getElementById("finalScore2").textContent=s,document.getElementById("finalTotalMoves").textContent=e.totalMatches,t>s?document.getElementById("winnerName").textContent="Player 1 is the winner!":s>t?document.getElementById("winnerName").textContent="Player 2 is the winner!":document.getElementById("winnerName").textContent="Both players are good!"}document.getElementById("winModal").classList.add("show")}function A(){document.getElementById("settings").classList.remove("show"),document.getElementById("winModal").classList.remove("show"),m()}function G(){document.getElementById("winModal").classList.remove("show"),m()}
